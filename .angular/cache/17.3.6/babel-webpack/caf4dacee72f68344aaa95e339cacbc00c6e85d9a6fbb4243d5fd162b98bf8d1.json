{"ast":null,"code":"import { GLOBAL } from '../../services/global';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../services/maintenance.service\";\nimport * as i3 from \"@angular/platform-browser\";\nimport * as i4 from \"../../services/params.service\";\nimport * as i5 from \"../../services/users.service\";\nimport * as i6 from \"../../services/score-mail.service\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"@angular/forms\";\nimport * as i9 from \"../header/header.component\";\nconst _c0 = [\"fileInput\"];\nconst _c1 = () => [\"Baja\", \"Media\", \"Alta\"];\nfunction MaintDetailComponent_div_52_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"a\", 41);\n    i0.ɵɵlistener(\"click\", function MaintDetailComponent_div_52_ng_container_1_Template_a_click_1_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const photo_r3 = i0.ɵɵnextContext().$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.viewPhotoModal(photo_r3.photo));\n    });\n    i0.ɵɵelement(2, \"img\", 42);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const photo_r3 = i0.ɵɵnextContext().$implicit;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"src\", ctx_r3.urlPhotos + photo_r3.photo, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction MaintDetailComponent_div_52_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 39);\n    i0.ɵɵtemplate(1, MaintDetailComponent_div_52_ng_container_1_Template, 3, 1, \"ng-container\", 40);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const photo_r3 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", photo_r3.is_before);\n  }\n}\nfunction MaintDetailComponent_div_61_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"a\", 41);\n    i0.ɵɵlistener(\"click\", function MaintDetailComponent_div_61_ng_container_1_Template_a_click_1_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const photo_r6 = i0.ɵɵnextContext().$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.viewPhotoModal(photo_r6.photo));\n    });\n    i0.ɵɵelement(2, \"img\", 42);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const photo_r6 = i0.ɵɵnextContext().$implicit;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"src\", ctx_r3.urlPhotos + photo_r6.photo, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction MaintDetailComponent_div_61_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 39);\n    i0.ɵɵtemplate(1, MaintDetailComponent_div_61_ng_container_1_Template, 3, 1, \"ng-container\", 40);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const photo_r6 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !photo_r6.is_before);\n  }\n}\nfunction MaintDetailComponent_div_76_ng_container_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"option\", 71);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const param_r8 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"value\", param_r8.id);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(param_r8.name);\n  }\n}\nfunction MaintDetailComponent_div_76_div_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 72)(1, \"a\", 73)(2, \"h4\");\n    i0.ɵɵelement(3, \"i\", 74);\n    i0.ɵɵtext(4, \" Descagar formulario AST.docx\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction MaintDetailComponent_div_76_div_35_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 75)(1, \"input\", 76);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function MaintDetailComponent_div_76_div_35_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r3 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r3.mainDetalle.priority, $event) || (ctx_r3.mainDetalle.priority = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"label\", 77);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const option_r10 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵpropertyInterpolate(\"id\", option_r10);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r3.mainDetalle.priority);\n    i0.ɵɵproperty(\"value\", option_r10);\n    i0.ɵɵadvance();\n    i0.ɵɵpropertyInterpolate(\"for\", option_r10);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(option_r10);\n  }\n}\nfunction MaintDetailComponent_div_76_select_39_option_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 71);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const user_r12 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", user_r12.id);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate2(\"\", user_r12.first_name, \" \", user_r12.last_name, \"\");\n  }\n}\nfunction MaintDetailComponent_div_76_select_39_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"select\", 78);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function MaintDetailComponent_div_76_select_39_Template_select_ngModelChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r3 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r3.mainDetalle.user_to_assign_id, $event) || (ctx_r3.mainDetalle.user_to_assign_id = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵtemplate(1, MaintDetailComponent_div_76_select_39_option_1_Template, 2, 3, \"option\", 79);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r3.mainDetalle.user_to_assign_id);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.usersUrl.users);\n  }\n}\nfunction MaintDetailComponent_div_76_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 43)(1, \"h2\", 44)(2, \"button\", 45);\n    i0.ɵɵtext(3, \" Formulario para Jefatura \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 46)(5, \"div\", 9)(6, \"form\", 47);\n    i0.ɵɵlistener(\"ngSubmit\", function MaintDetailComponent_div_76_Template_form_ngSubmit_6_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.onSubmit());\n    });\n    i0.ɵɵelementStart(7, \"div\", 48)(8, \"div\", 49)(9, \"label\", 50);\n    i0.ɵɵtext(10, \"Fecha de entrega:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"input\", 51);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function MaintDetailComponent_div_76_Template_input_ngModelChange_11_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r3 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r3.mainDetalle.date_estimated_delivery, $event) || (ctx_r3.mainDetalle.date_estimated_delivery = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 49)(13, \"label\", 52);\n    i0.ɵɵtext(14, \"Estado:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"select\", 53);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function MaintDetailComponent_div_76_Template_select_ngModelChange_15_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r3 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r3.mainDetalle.status_id, $event) || (ctx_r3.mainDetalle.status_id = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵtemplate(16, MaintDetailComponent_div_76_ng_container_16_Template, 3, 2, \"ng-container\", 54);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(17, \"div\", 2)(18, \"div\", 55)(19, \"label\", 56);\n    i0.ɵɵtext(20, \"\\u00BFTiene riesgo?\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"div\", 57)(22, \"div\", 58)(23, \"input\", 59);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function MaintDetailComponent_div_76_Template_input_ngModelChange_23_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r3 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r3.mainDetalle.has_risk, $event) || (ctx_r3.mainDetalle.has_risk = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"label\", 60);\n    i0.ɵɵtext(25, \"SI\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(26, \"div\", 61)(27, \"input\", 59);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function MaintDetailComponent_div_76_Template_input_ngModelChange_27_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r3 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r3.mainDetalle.has_risk, $event) || (ctx_r3.mainDetalle.has_risk = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"label\", 60);\n    i0.ɵɵtext(29, \"NO\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(30, MaintDetailComponent_div_76_div_30_Template, 5, 0, \"div\", 62);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"div\", 55)(32, \"label\", 56);\n    i0.ɵɵtext(33, \"Prioridad:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"div\", 63);\n    i0.ɵɵtemplate(35, MaintDetailComponent_div_76_div_35_Template, 4, 5, \"div\", 64);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(36, \"div\", 65)(37, \"label\", 66);\n    i0.ɵɵtext(38, \"Asignado a:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(39, MaintDetailComponent_div_76_select_39_Template, 2, 2, \"select\", 67);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(40, \"div\", 65)(41, \"label\", 68);\n    i0.ɵɵtext(42, \"Comentario:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(43, \"textarea\", 69);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function MaintDetailComponent_div_76_Template_textarea_ngModelChange_43_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r3 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r3.mainDetalle.solution, $event) || (ctx_r3.mainDetalle.solution = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(44, \"button\", 70);\n    i0.ɵɵtext(45, \"Enviar\");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(11);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r3.mainDetalle.date_estimated_delivery);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r3.mainDetalle.status_id);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.filteredParams);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r3.mainDetalle.has_risk);\n    i0.ɵɵproperty(\"value\", true);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r3.mainDetalle.has_risk);\n    i0.ɵɵproperty(\"value\", false);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.mainDetalle.has_risk == true);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpureFunction0(11, _c1));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.usersUrl && ctx_r3.usersUrl.users);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r3.mainDetalle.solution);\n  }\n}\nexport let MaintDetailComponent = /*#__PURE__*/(() => {\n  class MaintDetailComponent {\n    constructor(_route, _serMaint, _sanitizer, _paramsServ, _userService, _router, _scoreMailService) {\n      this._route = _route;\n      this._serMaint = _serMaint;\n      this._sanitizer = _sanitizer;\n      this._paramsServ = _paramsServ;\n      this._userService = _userService;\n      this._router = _router;\n      this._scoreMailService = _scoreMailService;\n      this.mainDetalle = {\n        id: '',\n        date_estimated_delivery: '',\n        priority: '',\n        has_risk: false,\n        status_id: '',\n        user_to_assign_id: '',\n        solution: '',\n        institute_id: '',\n        type_incident: '',\n        site: '',\n        score: '',\n        description_incident: '',\n        name: ''\n      };\n      this.isAdmin = false;\n      this.urlFiles = GLOBAL.url;\n      this.urlPhotos = this.urlFiles + \"/files/maintenance/\";\n      this.scoreModuleUrl = 'score';\n      this.filteredParams = [];\n      this.token = localStorage.getItem('token');\n      // this.params1();\n      // this.users();\n    }\n    ngOnInit() {\n      this._route.params.subscribe(params => {\n        this.maintId = params['maintId'];\n        this.getDetail(this.maintId);\n        this.params1();\n        this.users();\n      });\n    }\n    params1() {\n      this._paramsServ.getParams('ESTADO_CASE', this.token).subscribe(resp => {\n        // console.log(resp);\n        this.paramsUrl = resp;\n        this.params = this.paramsUrl.params.filter(param => param.code !== 'ESTFINALIZADO');\n        this.filteredParams = this.params;\n        console.log(this.params);\n      });\n    }\n    users() {\n      this._userService.all(this.token).subscribe(resp => {\n        this.usersUrl = resp;\n        // console.log(this.usersUrl);\n      });\n    }\n    getDetail(maintId) {\n      this._serMaint.detail(this.token, maintId).subscribe(resp => {\n        this.maintenanceUrl = resp;\n        console.log(this.maintenanceUrl.maintenance.photos);\n        if (this.maintenanceUrl && this.maintenanceUrl.maintenance) {\n          this.maintenance = this.maintenanceUrl.maintenance;\n          this.isAdmin = this.maintenanceUrl.isAdmin;\n          localStorage.setItem('isAdmin', JSON.stringify(this.isAdmin));\n          this.mainDetalle.id = this.maintenance.id;\n          this.mainDetalle.date_estimated_delivery = this.maintenance.date_estimated_delivery;\n          this.mainDetalle.priority = this.maintenance.priority;\n          this.mainDetalle.has_risk = this.maintenance.has_risk;\n          this.mainDetalle.status_id = this.maintenance.case.status_id;\n          this.mainDetalle.user_to_assign_id = this.maintenance.case.user_to_assign_id;\n          this.mainDetalle.institute_id = this.maintenance.case.institute_id;\n          this.mainDetalle.solution = this.maintenance.solution;\n          this.mainDetalle.type_incident = this.maintenance.type_incident;\n          this.mainDetalle.site = this.maintenance.site;\n          this.mainDetalle.score = this.maintenance.score;\n          this.mainDetalle.description_incident = this.maintenance.description_incident;\n          let isBefore = this.mainDetalle.status_id !== 'ENTREGADO';\n          console.log(`entregado es ` + isBefore);\n        } else {\n          console.error('La respuesta del servicio no contiene la propiedad \"maintenance\"');\n        }\n      });\n    }\n    onSubmit() {\n      let nameStatus = this.buscar_nombre_estado();\n      this.mainDetalle.type_incident = this.maintenanceUrl.maintenance.type_incident;\n      this.mainDetalle.site = this.maintenanceUrl.maintenance.site;\n      this.mainDetalle.description_incident = this.maintenanceUrl.maintenance.description_incident;\n      this._serMaint.update(this.token, this.mainDetalle).subscribe(resp => {\n        let respuesta = resp;\n        if (respuesta.status == 'OK' && nameStatus == 'ENTREGADO') {\n          this.sendEmailScore();\n        }\n        this._router.navigate(['/main/' + this.maintId]);\n      });\n    }\n    uploadImage() {\n      const file = this.fileInput.nativeElement.files[0];\n      // console.log(this.maintId);\n      if (file) {\n        this.convertToBase64(file).then(base64 => {\n          const fileName = file.name;\n          this._serMaint.uploadFile(this.token, base64, fileName, this.maintId, true).subscribe(res => {\n            // console.log(res);\n            let isBefore = this.mainDetalle.status_id !== 'ENTREGADO';\n            console.log(`entregado es ` + isBefore);\n            this.getDetail(this.maintId);\n          });\n        });\n      }\n    }\n    buscar_nombre_estado() {\n      for (let i = 0; i < this.params.length; i++) {\n        if (this.params[i].id == this.mainDetalle.status_id) {\n          return this.params[i].name;\n        }\n      }\n    }\n    sendEmailScore() {\n      console.log(this.token);\n      this._scoreMailService.sendEmail(this.scoreModuleUrl, this.maintId, this.token).subscribe(resp => {\n        // console.log(resp);\n      });\n    }\n    viewPhotoModal(photografy) {\n      this.photografy = photografy;\n      // console.log(photografy)\n    }\n    convertToBase64(file) {\n      return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onload = () => {\n          const base64String = reader.result;\n          resolve(base64String.split(',')[1]);\n        };\n        reader.onerror = error => {\n          reject(error);\n        };\n        reader.readAsDataURL(file);\n      });\n    }\n    deleteTicket(maintId) {\n      this._serMaint.update(this.token, {\n        maint_id: maintId,\n        status: 'ELIMINADO'\n      }).subscribe(resp => {\n        console.log('eliminado');\n      }, error => {\n        alert('error al eliminar el ticket');\n      });\n    }\n    static #_ = this.ɵfac = function MaintDetailComponent_Factory(t) {\n      return new (t || MaintDetailComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.MaintenanceService), i0.ɵɵdirectiveInject(i3.DomSanitizer), i0.ɵɵdirectiveInject(i4.ParamsService), i0.ɵɵdirectiveInject(i5.UsersService), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i6.ScoreMailService));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: MaintDetailComponent,\n      selectors: [[\"app-maint-detail\"]],\n      viewQuery: function MaintDetailComponent_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵviewQuery(_c0, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.fileInput = _t.first);\n        }\n      },\n      decls: 77,\n      vars: 11,\n      consts: [[\"fileInput\", \"\"], [1, \"container\", \"mt-3\"], [1, \"row\"], [1, \"col-lg-6\"], [\"id\", \"accordionExample\", 1, \"accordion\"], [1, \"accordion-item\"], [\"id\", \"headingOne\", 1, \"accordion-header\"], [\"type\", \"button\", \"data-bs-toggle\", \"collapse\", \"data-bs-target\", \"#collapseOne\", \"aria-expanded\", \"true\", \"aria-controls\", \"collapseOne\", 1, \"accordion-button\", \"button-lila-obscuro\"], [\"id\", \"collapseOne\", \"aria-labelledby\", \"headingOne\", \"data-bs-parent\", \"#accordionExample\", 1, \"accordion-collapse\", \"collapse\", \"show\"], [1, \"accordion-body\"], [1, \"row\", \"mt-4\"], [\"id\", \"accordionSubirArchivo\", 1, \"accordion\"], [\"id\", \"headingSubirArchivo\", 1, \"accordion-header\"], [\"type\", \"button\", \"data-bs-toggle\", \"collapse\", \"data-bs-target\", \"#collapseSubirArchivo\", \"aria-expanded\", \"true\", \"aria-controls\", \"collapseSubirArchivo\", 1, \"accordion-button\"], [\"id\", \"collapseSubirArchivo\", \"aria-labelledby\", \"headingSubirArchivo\", \"data-bs-parent\", \"#accordionSubirArchivo\", 1, \"accordion-collapse\", \"collapse\"], [\"type\", \"file\", 1, \"form-control\", \"mb-3\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"col-lg-12\"], [\"id\", \"accordionGaleria\", 1, \"accordion\"], [\"id\", \"headingGaleria\", 1, \"accordion-header\"], [\"type\", \"button\", \"data-bs-toggle\", \"collapse\", \"data-bs-target\", \"#collapseGaleria\", \"aria-expanded\", \"true\", \"aria-controls\", \"collapseGaleria\", 1, \"accordion-button\"], [\"id\", \"collapseGaleria\", \"aria-labelledby\", \"headingGaleria\", \"data-bs-parent\", \"#accordionGaleria\", 1, \"accordion-collapse\", \"collapse\"], [\"class\", \"col\", 4, \"ngFor\", \"ngForOf\"], [\"id\", \"headingGaleriaDespues\", 1, \"accordion-header\"], [\"type\", \"button\", \"data-bs-toggle\", \"collapse\", \"data-bs-target\", \"#collapseGaleriaDespues\", \"aria-expanded\", \"true\", \"aria-controls\", \"collapseGaleriaDespues\", 1, \"accordion-button\"], [\"id\", \"collapseGaleriaDespues\", \"aria-labelledby\", \"headingGaleriaDespues\", \"data-bs-parent\", \"#accordionGaleria\", 1, \"accordion-collapse\", \"collapse\"], [1, \"row\", \"mt-3\"], [\"id\", \"exampleModal\", \"tabindex\", \"-1\", \"aria-labelledby\", \"exampleModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [1, \"modal-dialog\", \"modal-lg\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"exampleModalLabel\", 1, \"modal-title\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"btn-close\"], [1, \"modal-body\"], [\"alt\", \"...\", \"width\", \"100%\", 1, \"img-thumbnail\", 3, \"src\"], [1, \"modal-footer\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", 1, \"btn\", \"btn-secondary\"], [\"id\", \"accordionExample2\", 1, \"accordion\"], [\"class\", \"accordion-item vibrate\", 4, \"ngIf\"], [1, \"col\"], [4, \"ngIf\"], [\"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#exampleModal\", 3, \"click\"], [\"alt\", \"...\", \"width\", \"100px\", 1, \"img-thumbnail\", 3, \"src\"], [1, \"accordion-item\", \"vibrate\"], [\"id\", \"headingTwo\", 1, \"accordion-header\"], [\"type\", \"button\", \"data-bs-toggle\", \"collapse\", \"data-bs-target\", \"#collapseTwo\", \"aria-expanded\", \"true\", \"aria-controls\", \"collapseTwo\", 1, \"accordion-button\", \"button-lila-obscuro\"], [\"id\", \"collapseTwo\", \"aria-labelledby\", \"headingOne\", \"data-bs-parent\", \"#accordionExample2\", 1, \"accordion-collapse\", \"collapse\"], [3, \"ngSubmit\"], [1, \"row\", \"text-center\"], [1, \"mb-3\", \"col-lg-6\"], [\"for\", \"date_estimated_delivery\", 1, \"form-label\"], [\"type\", \"date\", \"id\", \"date_estimated_delivery\", \"name\", \"date_estimated_delivery\", \"required\", \"\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"for\", \"status_id\", 1, \"form-label\"], [\"name\", \"status_id\", \"id\", \"status_id\", 1, \"form-select\", 3, \"ngModelChange\", \"ngModel\"], [4, \"ngFor\", \"ngForOf\"], [1, \"mb-3\", \"col-lg-6\", \"text-center\"], [1, \"form-label\"], [1, \"d-flex\", \"flex-row\", \"justify-content-center\"], [1, \"form-check\", \"me-3\"], [\"type\", \"radio\", \"name\", \"has_risk\", 1, \"form-check-input\", 3, \"ngModelChange\", \"ngModel\", \"value\"], [1, \"form-check-label\"], [1, \"form-check\"], [\"class\", \"form-AST\", 4, \"ngIf\"], [1, \"d-flex\", \"flex-wrap\", \"justify-content-center\"], [\"class\", \"form-check me-3 mb-2\", 4, \"ngFor\", \"ngForOf\"], [1, \"mb-3\"], [\"for\", \"user_to_assign_id\", 1, \"form-label\"], [\"name\", \"user_to_assign_id\", \"id\", \"user_to_assign_id\", \"class\", \"form-select\", 3, \"ngModel\", \"ngModelChange\", 4, \"ngIf\"], [\"for\", \"solution\", 1, \"form-label\"], [\"name\", \"solution\", \"rows\", \"6\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"submit\", \"hre\", \"\", 1, \"btn\", \"btn-primary\"], [3, \"value\"], [1, \"form-AST\"], [\"href\", \"../../../assets/files/statics/AST.docx\"], [1, \"fa-solid\", \"fa-download\"], [1, \"form-check\", \"me-3\", \"mb-2\"], [\"type\", \"radio\", \"name\", \"priority\", \"required\", \"\", 1, \"form-check-input\", 3, \"ngModelChange\", \"id\", \"ngModel\", \"value\"], [1, \"form-check-label\", 3, \"for\"], [\"name\", \"user_to_assign_id\", \"id\", \"user_to_assign_id\", 1, \"form-select\", 3, \"ngModelChange\", \"ngModel\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"]],\n      template: function MaintDetailComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          const _r1 = i0.ɵɵgetCurrentView();\n          i0.ɵɵelementStart(0, \"div\");\n          i0.ɵɵelement(1, \"app-header\");\n          i0.ɵɵelementStart(2, \"div\", 1)(3, \"div\", 2)(4, \"div\", 3)(5, \"div\", 4)(6, \"div\", 5)(7, \"h2\", 6)(8, \"button\", 7);\n          i0.ɵɵtext(9);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(10, \"div\", 8)(11, \"div\", 9)(12, \"p\")(13, \"b\");\n          i0.ɵɵtext(14, \"Descripci\\u00F3n del problema:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(15);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(16, \"p\")(17, \"b\");\n          i0.ɵɵtext(18, \"Sitio del problema: \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(19);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(20, \"p\")(21, \"b\");\n          i0.ɵɵtext(22, \"Prioridad: \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(23);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(24, \"p\")(25, \"b\");\n          i0.ɵɵtext(26, \"Estado: \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(27);\n          i0.ɵɵelementEnd()()()()();\n          i0.ɵɵelementStart(28, \"div\", 10)(29, \"div\", 11)(30, \"div\", 5)(31, \"h2\", 12)(32, \"button\", 13)(33, \"b\");\n          i0.ɵɵtext(34, \"SUBIR ARCHIVO\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(35, \"div\", 14)(36, \"div\", 9)(37, \"div\");\n          i0.ɵɵelement(38, \"input\", 15, 0);\n          i0.ɵɵelementStart(40, \"button\", 16);\n          i0.ɵɵlistener(\"click\", function MaintDetailComponent_Template_button_click_40_listener() {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.uploadImage());\n          });\n          i0.ɵɵtext(41, \"Subir archivo\");\n          i0.ɵɵelementEnd()()()()()();\n          i0.ɵɵelementStart(42, \"div\", 17)(43, \"div\", 18)(44, \"div\", 5)(45, \"h2\", 19)(46, \"button\", 20)(47, \"b\");\n          i0.ɵɵtext(48, \"GALER\\u00CDA DE FOTOS CON EL PROBLEMA\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(49, \"div\", 21)(50, \"div\", 9)(51, \"div\", 2);\n          i0.ɵɵtemplate(52, MaintDetailComponent_div_52_Template, 2, 1, \"div\", 22);\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(53, \"div\", 5)(54, \"h2\", 23)(55, \"button\", 24)(56, \"b\");\n          i0.ɵɵtext(57, \"GALER\\u00CDA DE FOTOS DESPU\\u00C9S DEL ARREGLO\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(58, \"div\", 25)(59, \"div\", 9)(60, \"div\", 26);\n          i0.ɵɵtemplate(61, MaintDetailComponent_div_61_Template, 2, 1, \"div\", 22);\n          i0.ɵɵelementEnd()()()()()()();\n          i0.ɵɵelementStart(62, \"div\", 27)(63, \"div\", 28)(64, \"div\", 29)(65, \"div\", 30)(66, \"h3\", 31);\n          i0.ɵɵtext(67);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(68, \"button\", 32);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(69, \"div\", 33);\n          i0.ɵɵelement(70, \"img\", 34);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(71, \"div\", 35)(72, \"button\", 36);\n          i0.ɵɵtext(73, \"Cerrar\");\n          i0.ɵɵelementEnd()()()()()();\n          i0.ɵɵelementStart(74, \"div\", 3)(75, \"div\", 37);\n          i0.ɵɵtemplate(76, MaintDetailComponent_div_76_Template, 46, 12, \"div\", 38);\n          i0.ɵɵelementEnd()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(9);\n          i0.ɵɵtextInterpolate2(\" Detalle del problema: \", ctx.maintenanceUrl == null ? null : ctx.maintenanceUrl.maintenance == null ? null : ctx.maintenanceUrl.maintenance.type_incident, \" - \", ctx.maintenanceUrl == null ? null : ctx.maintenanceUrl.maintenance == null ? null : ctx.maintenanceUrl.maintenance.case == null ? null : ctx.maintenanceUrl.maintenance.case.created, \" \");\n          i0.ɵɵadvance(6);\n          i0.ɵɵtextInterpolate1(\" \", ctx.maintenanceUrl == null ? null : ctx.maintenanceUrl.maintenance == null ? null : ctx.maintenanceUrl.maintenance.description_incident, \"\");\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate1(\" \", ctx.maintenanceUrl == null ? null : ctx.maintenanceUrl.maintenance == null ? null : ctx.maintenanceUrl.maintenance.site, \"\");\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate1(\" \", ctx.maintenanceUrl == null ? null : ctx.maintenanceUrl.maintenance == null ? null : ctx.maintenanceUrl.maintenance.priority, \"\");\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate1(\" \", ctx.maintenanceUrl == null ? null : ctx.maintenanceUrl.maintenance == null ? null : ctx.maintenanceUrl.maintenance.case == null ? null : ctx.maintenanceUrl.maintenance.case.status == null ? null : ctx.maintenanceUrl.maintenance.case.status.name, \"\");\n          i0.ɵɵadvance(25);\n          i0.ɵɵproperty(\"ngForOf\", ctx.maintenanceUrl == null ? null : ctx.maintenanceUrl.maintenance == null ? null : ctx.maintenanceUrl.maintenance.photos);\n          i0.ɵɵadvance(9);\n          i0.ɵɵproperty(\"ngForOf\", ctx.maintenanceUrl == null ? null : ctx.maintenanceUrl.maintenance == null ? null : ctx.maintenanceUrl.maintenance.photos);\n          i0.ɵɵadvance(6);\n          i0.ɵɵtextInterpolate1(\"Foto \", ctx.photografy, \"\");\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"src\", ctx.urlPhotos + ctx.photografy, i0.ɵɵsanitizeUrl);\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngIf\", ctx.isAdmin);\n        }\n      },\n      dependencies: [i7.NgForOf, i7.NgIf, i8.ɵNgNoValidate, i8.NgSelectOption, i8.ɵNgSelectMultipleOption, i8.DefaultValueAccessor, i8.SelectControlValueAccessor, i8.RadioControlValueAccessor, i8.NgControlStatus, i8.NgControlStatusGroup, i8.RequiredValidator, i8.NgModel, i8.NgForm, i9.HeaderComponent],\n      styles: [\".form-label[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;display:grid;align-items:center}.modal-title[_ngcontent-%COMP%]{text-align:center;font-size:1rem;font-weight:700}.form-AST[_ngcontent-%COMP%]{margin-top:15px}\"]\n    });\n  }\n  return MaintDetailComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}