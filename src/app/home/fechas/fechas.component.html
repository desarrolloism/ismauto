<app-header-app></app-header-app>
<div class="fechas-container">
  <div class="row">
    
    <h2 class="personal-title text-center" color="primary">
        <span> Seleccione una fecha y hora para su cita</span>
      </h2>
    <div class="col-md-6">
      <mat-calendar [dateFilter]="dateFilter"
        (selectedChange)="onDateSelected($event)"></mat-calendar>
    </div>
    <div class="col-md-6">
      <mat-form-field *ngIf="selectedDate" appearance="fill">
        <mat-label>Hora disponible</mat-label>
        <mat-select [(ngModel)]="selectedTime">
          <mat-option *ngFor="let time of availableTimes"
            [value]="time">{{time}}</mat-option>
        </mat-select>
        fecha {{selectedDate | date:'dd/MM/yyyy'}}
      </mat-form-field>
      <div *ngIf="selectedDate && selectedTime"
        class="mt-4 p-3 bg-light">
        <h3>Resumen de la cita</h3>
        <p><strong>Solicitante:</strong> {{citaInfo.solicitante}}</p>
        <p><strong>Campus:</strong> {{citaInfo.campus}}</p>
        <p><strong>Nivel:</strong> {{citaInfo.nivel}}</p>
        <p><strong>Tipo de personal:</strong> {{citaInfo.tipoPersonal}}</p>
        <p><strong>Persona seleccionada:</strong> {{citaInfo.personalNombre}}</p>
        <p><strong>Cargo:</strong> {{citaInfo.personalCargo}}</p>
        <p><strong>Fecha:</strong> {{selectedDate | date:'dd/MM/yyyy'}}</p>
        <p><strong>Hora:</strong> {{selectedTime}}</p>
        <input type="checkbox" [(ngModel)]="confirmacionChecked" class="mt-3">
          Confirmo que la informaci√≥n es correcta
        
      </div>
      <button mat-raised-button color="primary"
        [disabled]="!selectedTime || !selectedDate || !confirmacionChecked"
        (click)="confirmarCita()" class="mt-3">
        Confirmar Cita
      </button>
    </div>
  </div>
</div>